<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Porprov Kalsel 2025 - KONI Tapin</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        /* Menggunakan font Inter secara default dan background gelap */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate 900 - Dark Background */
            color: #f8fafc; /* Light text */
        }
        /* Custom class for the gold gradient */
        .gold-gradient {
            background: linear-gradient(90deg, #fcd34d 0%, #d97706 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Custom styles for the countdown tiles */
        .countdown-tile {
            background-color: #1e293b; /* Slate 800 */
            border-bottom: 4px solid #f59e0b; /* Amber 600 */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2), 0 2px 4px -1px rgba(0, 0, 0, 0.1);
        }
        /* Mobile styling for table to make it scrollable */
        @media (max-width: 768px) {
            .table-responsive {
                overflow-x: auto;
            }
            .table-responsive table {
                min-width: 700px; /* Ensure table is wide enough to scroll */
            }
        }
    </style>
</head>
<body>

    <!-- Header / Navbar (Fixed at Top) -->
    <header class="sticky top-0 z-50 bg-slate-900/95 backdrop-blur-sm border-b border-yellow-600/30 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <!-- Logo & Title -->
                <div class="flex items-center">
                    <span class="text-3xl mr-3" role="img" aria-label="Trophy">üèÜ</span>
                    <h1 class="text-xl font-extrabold tracking-tight">
                        <span class="gold-gradient">PORPROV KALSEL 2025</span>
                    </h1>
                </div>

                <!-- Navigation Links (Hidden on Mobile, shown on Desktop) -->
                <nav class="hidden md:flex space-x-6 text-sm font-medium">
                    <a href="#beranda" class="text-yellow-500 hover:text-white transition duration-200">Beranda</a>
                    <a href="#klasemen" class="text-slate-300 hover:text-yellow-500 transition duration-200">Klasemen</a>
                    <a href="#prestasi-atlet" class="text-slate-300 hover:text-yellow-500 transition duration-200">Prestasi Tapin</a>
                    <a href="#prestasi-cabor" class="text-slate-300 hover:text-yellow-500 transition duration-200">Prestasi Cabor</a>
                    <a href="#jadwal" class="text-slate-300 hover:text-yellow-500 transition duration-200">Jadwal</a>
                    <a href="#dokumentasi" class="text-slate-300 hover:text-yellow-500 transition duration-200">Dokumentasi</a>
                </nav>

                <!-- Mobile Menu Button -->
                <button id="mobile-menu-button" class="md:hidden p-2 text-white hover:text-yellow-500 rounded-lg">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden bg-slate-800 border-t border-yellow-600/30">
            <a href="#beranda" class="block px-4 py-2 text-yellow-500 hover:bg-slate-700">Beranda</a>
            <a href="#klasemen" class="block px-4 py-2 text-slate-300 hover:bg-slate-700">Klasemen Medali</a>
            <a href="#prestasi-atlet" class="block px-4 py-2 text-slate-300 hover:bg-slate-700">Prestasi Tapin</a>
            <a href="#prestasi-cabor" class="block px-4 py-2 text-slate-300 hover:bg-slate-700">Prestasi Cabor</a>
            <a href="#jadwal" class="block px-4 py-2 text-slate-300 hover:bg-slate-700">Jadwal Pertandingan</a>
            <a href="#dokumentasi" class="block px-4 py-2 text-slate-300 hover:bg-slate-700">Dokumentasi</a>
        </div>
    </header>

    <main class="max-w-7xl mx-auto p-4 sm:p-6 lg:p-8">

        <!-- Section 1: Hero & Countdown (Now showing LIVE status) -->
        <section id="beranda" class="text-center py-16 bg-slate-800 rounded-xl shadow-2xl mb-12 border-4 border-yellow-600/50">
            <p class="text-yellow-500 text-sm uppercase tracking-widest mb-2">Komite Olahraga Nasional Indonesia Kabupaten Tapin</p>
            <h2 class="text-5xl md:text-7xl font-extrabold mb-8">
                PEKAN OLAHRAGA PROVINSI <br>
                <span class="gold-gradient">KALIMANTAN SELATAN 2025</span>
            </h2>

            <div class="flex justify-center items-center space-x-4 md:space-x-8" id="countdown">
                <!-- Countdown Tiles will be replaced by "SEDANG BERLANGSUNG!" -->
            </div>
            <p class="text-lg mt-4 text-slate-400" id="countdown-status">Status Acara</p>
        </section>

        <!-- Section 2: Key Statistics -->
        <section class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-12">
            <div class="p-6 rounded-xl countdown-tile text-center">
                <p class="text-4xl font-bold text-yellow-500" id="stat-medali">295</p>
                <p class="text-sm uppercase tracking-wide text-slate-400 mt-1">Total Medali</p>
            </div>
            <div class="p-6 rounded-xl countdown-tile text-center">
                <p class="text-4xl font-bold text-yellow-500" id="stat-atlet">2,847</p>
                <p class="text-sm uppercase tracking-wide text-slate-400 mt-1">Total Atlet</p>
            </div>
            <div class="p-6 rounded-xl countdown-tile text-center">
                <p class="text-4xl font-bold text-yellow-500" id="stat-venue">29</p>
                <p class="text-sm uppercase tracking-wide text-slate-400 mt-1">Venue Pertandingan</p>
            </div>
            <div class="p-6 rounded-xl countdown-tile text-center">
                <p class="text-4xl font-bold text-yellow-500" id="stat-cabor">47</p>
                <p class="text-sm uppercase tracking-wide text-slate-400 mt-1">Cabang Olahraga</p>
            </div>
        </section>

        <!-- Section 3: Top 3 Klasemen Medali -->
        <section class="grid grid-cols-1 gap-8 mb-12">
            <!-- Top 3 Klasemen -->
            <div id="klasemen" class="bg-slate-800 p-6 rounded-xl shadow-2xl">
                <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üèÜ Top 3 Klasemen Medali</h3>

                <!-- Top 3 Cards - Data will be updated by JS -->
                <div class="grid grid-cols-3 gap-4 text-center">
                    <!-- 2nd Place: Kota Banjarmasin -->
                    <div class="p-4 rounded-xl bg-slate-900 border-b-4 border-gray-400">
                        <span class="text-5xl mb-2 block">ü•à</span>
                        <p class="text-xl font-semibold text-gray-300">Kota Banjarmasin</p>
                        <p class="text-3xl font-extrabold text-white mt-1">61</p>
                        <p class="text-xs text-slate-400">Total Medali</p>
                    </div>
                    <!-- 1st Place: Kab. Tanah Laut -->
                    <div class="p-4 rounded-xl bg-slate-900 border-b-4 border-yellow-500 relative top-[-10px]">
                        <span class="text-6xl mb-2 block">ü•á</span>
                        <p class="text-xl font-semibold text-yellow-500">Kab. Tanah Laut</p>
                        <p class="text-4xl font-extrabold text-white mt-1">78</p>
                        <p class="text-xs text-slate-400">Total Medali</p>
                    </div>
                    <!-- 3rd Place: Kota Banjarbaru -->
                    <div class="p-4 rounded-xl bg-slate-900 border-b-4 border-amber-800">
                        <span class="text-5xl mb-2 block">ü•â</span>
                        <p class="text-xl font-semibold text-amber-700">Kota Banjarbaru</p>
                        <p class="text-3xl font-extrabold text-white mt-1">33</p>
                        <p class="text-xs text-slate-400">Total Medali</p>
                    </div>
                </div>

                <!-- Full Klasemen Button -->
                <div class="mt-8 text-center">
                    <a href="#klasemen-lengkap" class="inline-block bg-yellow-600 hover:bg-yellow-700 text-slate-900 font-bold py-2 px-6 rounded-full transition duration-300 shadow-md">
                        Lihat Klasemen Lengkap
                    </a>
                </div>
            </div>
        </section>

        <!-- Section 4: Klasemen Lengkap (TAPIN ROW HIGHLIGHTED) -->
        <section id="klasemen-lengkap" class="bg-slate-800 p-6 rounded-xl shadow-2xl mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üìä Klasemen Medali Lengkap</h3>
            <p class="text-slate-400 mb-4">Perolehan medali per kabupaten/kota Porprov Kalsel 2025. <span class="text-red-500 font-semibold">(Baris Kontingen Tapin disorot)</span></p>

            <div class="table-responsive">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="uppercase text-sm font-semibold tracking-wider bg-slate-700/50">
                            <th class="p-3 rounded-tl-lg">Peringkat</th>
                            <th class="p-3">Kabupaten/Kota</th>
                            <th class="p-3 text-center">ü•á Emas</th>
                            <th class="p-3 text-center">ü•à Perak</th>
                            <th class="p-3 text-center">ü•â Perunggu</th>
                            <th class="p-3 rounded-tr-lg text-center">Total</th>
                        </tr>
                    </thead>
                    <tbody id="medal-standings">
                        <!-- Data will be inserted by JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Prestasi Atlet Tapin -->
        <section id="prestasi-atlet" class="bg-slate-800 p-6 rounded-xl shadow-2xl mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üèÖ Prestasi Atlet Tapin</h3>
            <p class="text-slate-400 mb-4">Daftar peraih medali dari kontingen Kab. Tapin (Total 18 Medali: 3 Emas, 5 Perak, 10 Perunggu).</p>

            <div class="table-responsive">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="uppercase text-sm font-semibold tracking-wider bg-slate-700/50">
                            <th class="p-3 rounded-tl-lg">No.</th>
                            <th class="p-3">Tanggal</th>
                            <th class="p-3">Cabang Olahraga</th>
                            <th class="p-3">Nama Atlet</th>
                            <th class="p-3">Kategori / Kelas</th>
                            <th class="p-3 rounded-tr-lg text-center">Medali</th>
                        </tr>
                    </thead>
                    <tbody id="athlete-achievements-body">
                        <!-- Data atlet akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>
        
        <!-- Prestasi Cabor Tapin -->
        <section id="prestasi-cabor" class="bg-slate-800 p-6 rounded-xl shadow-2xl mb-12">
            <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üéØ Prestasi Cabor Tapin</h3>
            <p class="text-slate-400 mb-4">Ringkasan perolehan medali Kab. Tapin per Cabang Olahraga.</p>

            <div class="table-responsive">
                <table class="w-full text-left border-collapse">
                    <thead>
                        <tr class="uppercase text-sm font-semibold tracking-wider bg-slate-700/50">
                            <th class="p-3 rounded-tl-lg">No.</th>
                            <th class="p-3">Cabang Olahraga</th>
                            <th class="p-3 text-center">ü•á Emas</th>
                            <th class="p-3 text-center">ü•à Perak</th>
                            <th class="p-3 text-center">ü•â Perunggu</th>
                            <th class="p-3 rounded-tr-lg text-center">Total</th>
                        </tr>
                    </thead>
                    <tbody id="cabor-achievements-body">
                        <!-- Data cabor akan diisi oleh JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 5: Jadwal & Dokumentasi -->
        <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
            <!-- Jadwal Pertandingan -->
            <div id="jadwal" class="bg-slate-800 p-6 rounded-xl shadow-2xl">
                <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üìÖ Jadwal Pertandingan</h3>
                <div class="space-y-4 max-h-[500px] overflow-y-auto pr-2" id="schedule-list">
                    <!-- Jadwal data akan diisi oleh JavaScript -->
                </div>
            </div>

            <!-- Dokumentasi -->
            <div id="dokumentasi" class="bg-slate-800 p-6 rounded-xl shadow-2xl">
                <h3 class="text-3xl font-bold mb-6 border-b border-slate-700 pb-2">üì∑ Dokumentasi</h3>
                <div class="space-y-4" id="dokumentasi-list">
                    
                    <!-- Link Item 1 -->
                    <a href="#" class="flex items-center p-4 bg-slate-900 rounded-lg hover:bg-slate-700 transition duration-200">
                        <span class="text-2xl mr-4">‚úàÔ∏è</span>
                        <div>
                            <span class="text-lg font-bold text-yellow-500 block">Pelepasan Atlet</span>
                            <span class="text-xs text-slate-400">Galeri foto dan video sebelum berangkat</span>
                        </div>
                    </a>
                    
                    <!-- Link Item 2 -->
                    <a href="#" class="flex items-center p-4 bg-slate-900 rounded-lg hover:bg-slate-700 transition duration-200">
                        <span class="text-2xl mr-4">üî•</span>
                        <div>
                            <span class="text-lg font-bold text-yellow-500 block">Pembukaan Porprov</span>
                            <span class="text-xs text-slate-400">Dokumentasi upacara pembukaan</span>
                        </div>
                    </a>
                    
                    <!-- Link Item 3 -->
                    <a href="#" class="flex items-center p-4 bg-slate-900 rounded-lg hover:bg-slate-700 transition duration-200">
                        <span class="text-2xl mr-4">üèÉ‚Äç‚ôÇÔ∏è</span>
                        <div>
                            <span class="text-lg font-bold text-yellow-500 block">Momen Pertandingan</span>
                            <span class="text-xs text-slate-400">Aksi terbaik dari lapangan dan arena</span>
                        </div>
                    </a>
                    
                    <!-- Link Item 4 -->
                    <a href="#" class="flex items-center p-4 bg-slate-900 rounded-lg hover:bg-slate-700 transition duration-200">
                        <span class="text-2xl mr-4">üèÅ</span>
                        <div>
                            <span class="text-lg font-bold text-yellow-500 block">Penutupan Porprov</span>
                            <span class="text-xs text-slate-400">Dokumentasi upacara penutupan dan perayaan</span>
                        </div>
                    </a>
                    
                </div>
            </div>
        </section>


    </main>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-yellow-600/30 pt-10 pb-6">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
                <!-- Col 1: Logo & Mission -->
                <div>
                    <h4 class="text-2xl font-bold text-yellow-500 mb-4">KONI TAPIN</h4>
                    <p class="text-sm text-slate-400">
                        Membangun prestasi olahraga daerah menuju kejayaan nasional.
                    </p>
                </div>
                <!-- Col 2: Info -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-white">Informasi Utama</h4>
                    <ul class="space-y-2 text-sm text-slate-400">
                        <li><span class="text-yellow-500">üìÖ</span> 23 Oktober - 13 November 2025</li>
                        <li><span class="text-yellow-500">üèüÔ∏è</span> 29 Venue Pertandingan</li>
                        <li><span class="text-yellow-500">üèÉ‚Äç‚ôÇÔ∏è</span> 2,847 Total Atlet</li>
                    </ul>
                </div>
                <!-- Col 3: Tautan -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-white">Tautan Cepat</h4>
                    <ul class="space-y-2 text-sm">
                        <li><a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">Tentang Porprov</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">Peraturan & Regulasi</a></li>
                        <li><a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">Kontak Kami</a></li>
                    </ul>
                </div>
                <!-- Col 4: Sosial Media -->
                <div>
                    <h4 class="text-lg font-semibold mb-4 text-white">Ikuti Kami</h4>
                    <div class="flex space-x-3 text-xl">
                        <a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">üìò</a>
                        <a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">üì∑</a>
                        <a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">üê¶</a>
                        <a href="#" class="text-slate-400 hover:text-yellow-500 transition duration-200">‚ñ∂Ô∏è</a>
                    </div>
                </div>
            </div>
            <div class="mt-10 border-t border-slate-700 pt-4 text-center">
                <p class="text-sm text-slate-500">¬© 2025 KONI Kabupaten Tapin. Semua hak dilindungi.</p>
            </div>
        </div>
    </footer>


    <script>
        // --- DATA MOCKUP ---
        // Total Medals for Tapin: 3 Emas, 5 Perak, 10 Perunggu = 18 Total
        const standingsData = [
            // Data Klasemen (Sorted by G, S, B for manual check - Rank will be determined dynamically)
            { rank: 0, city: "Kab. Tanah Laut", gold: 37, silver: 24, bronze: 17, total: 78, badge: '' },
            { rank: 0, city: "Kota Banjarmasin", gold: 23, silver: 22, bronze: 16, total: 61, badge: '' },
            { rank: 0, city: "Kota Banjarbaru", gold: 5, silver: 12, bronze: 16, total: 33, badge: '' },
            { rank: 0, city: "Kab. Tabalong", gold: 4, silver: 4, bronze: 11, total: 19, badge: '' },
            { rank: 0, city: "Kab. Tanah Bumbu", gold: 4, silver: 5, bronze: 5, total: 14, badge: '' },
            { rank: 0, city: "Kab. Barito Kuala", gold: 3, silver: 6, bronze: 13, total: 22, badge: '' },
            { rank: 0, city: "Kab. Tapin", gold: 3, silver: 5, bronze: 10, total: 18, badge: '' }, // Updated Tapin data
            { rank: 0, city: "Kab. Hulu Sungai Utara", gold: 4, silver: 1, bronze: 5, total: 10, badge: '' },
            { rank: 0, city: "Kab. Banjar", gold: 2, silver: 3, bronze: 15, total: 20, badge: '' },
            { rank: 0, city: "Kab. Kotabaru", gold: 1, silver: 1, bronze: 6, total: 8, badge: '' },
            { rank: 0, city: "Kab. Balangan", gold: 1, silver: 1, bronze: 5, total: 7, badge: '' },
            { rank: 0, city: "Kab. Hulu Sungai Tengah", gold: 1, silver: 3, bronze: 3, total: 7, badge: '' },
            { rank: 0, city: "Kab. Hulu Sungai Selatan", gold: 0, silver: 2, bronze: 3, total: 5, badge: '' },
        ];
        
        // Total medals calculation based on updated standingsData
        const totalOverallMedals = standingsData.reduce((sum, item) => sum + item.total, 0);


        // Detailed Prestasi Atlet Tapin (18 specific entries used to match 3 G, 5 S, 10 B)
        const athleteList = [
            // Emas (3 entries)
            { date: "24/10/25", cabor: "LONCAT INDAH", name: "ZIYAD ABQORI RAJENDRA", category: "PRIA", class: "SINGKRON MENARA", medal: 'ü•á' },
            { date: "24/10/25", cabor: "LONCAT INDAH", name: "NAVARO ARVAN WIBOWO", category: "PRIA", class: "SINGKRON PAPAN", medal: 'ü•á' },
            { date: "25/10/25", cabor: "PANJAT TEBING", name: "M. BADALI, BEN MARQUEZ, M NABIL FIRADAUS", category: "TIM PRIA", class: "SPEED KLASIK 10 M PA", medal: 'ü•á' },
            
            // Perak (5 entries)
            { date: "25/10/25", cabor: "PANJAT TEBING", name: "MASLIAINI, MAULIDYA KHAIRINA, RIZKINA HUSNUL MARWAH", category: "TIM WANITA", class: "TIM SPEED KLASIK 12 M PI", medal: 'ü•à' },
            { date: "25/10/25", cabor: "PANJAT TEBING", name: "MAULIDYA KHAIRINA, MASLIANA, MASLIANI", category: "TIM WANITA", class: "TIM SPEED KLASIK 10 M PI", medal: 'ü•à' },
            { date: "26/10/25", cabor: "GULAT", name: "ATHAYA FIKRI", category: "PUTRA", class: "GAYA BEBAS 70Kg", medal: 'ü•à' },
            { date: "26/10/25", cabor: "GULAT", name: "MUHAMMAD MAULANA", category: "PUTRA", class: "GAYA BEBAS 57Kg", medal: 'ü•à' },
            { date: "26/10/25", cabor: "GULAT", name: "MUHAMMAD ISMAIL", category: "PUTRA", class: "GAYA BEBAS 60Kg", medal: 'ü•à' },

            // Perunggu (10 entries)
            { date: "26/10/25", cabor: "GULAT", name: "MUHAMMAD YAZID", category: "PUTRA", class: "GAYA BEBAS 63Kg", medal: 'ü•â' },
            { date: "27/10/25", cabor: "PANJAT TEBING", name: "AHMAD SYARWANI", category: "PUTRA", class: "SPEED WORLD RECORD", medal: 'ü•â' },
            { date: "27/10/25", cabor: "PANJAT TEBING", name: "M. SAID, M. REZKY AZHARRELLAY", category: "TIM PUTRA", class: "COMBINED B", medal: 'ü•â' },
            { date: "27/10/25", cabor: "PANAHAN", name: "Dewi Agustin Delima", category: "PUTRI", class: "Recurve Putri", medal: 'ü•â' },
            { date: "27/10/25", cabor: "GULAT", name: "Bintang Assyufi", category: "PUTRA", class: "GAYA BEBAS 65 Kg", medal: 'ü•â' },
            { date: "27/10/25", cabor: "GULAT", name: "Muhammad Jikriadi", category: "PUTRA", class: "GAYA BEBAS 74 Kg", medal: 'ü•â' },
            { date: "28/10/25", cabor: "BOLA TANGAN", name: "TIM PUTRI (Beregu)", category: "PUTRI", class: "Beregu", medal: 'ü•â' },
            { date: "28/10/25", cabor: "BOLA TANGAN", name: "TIM PUTRA (Beregu)", category: "PUTRA", class: "Beregu", medal: 'ü•â' },
            { date: "28/10/25", cabor: "GULAT", name: "AHMAD FERDINAND", category: "PUTRA", class: "GAYA BEBAS 65 Kg", medal: 'ü•â' },
            { date: "28/10/25", cabor: "GULAT", name: "MUHAMMAD SYARIF", category: "PUTRA", class: "GAYA BEBAS 65 Kg", medal: 'ü•â' },
        ];
        
        // Final athlete data is limited to the first 18 entries matching the 3-5-10 breakdown
        const athleteData = athleteList.slice(0, 18);


        // Data Jadwal Pertandingan (47 Cabor) - Dates are corrected to use 2025
        const scheduleData = [
            { cabor: "Dayung", dates: "24 Oktober - 01 November 2025", venue: "Bendungan Damit", status: "Berlangsung" },
            { cabor: "Renang Kolam & Renang Perairan Terbuka", dates: "24 Oktober - 31 Oktober 2025", venue: "Kolam Renang Tirta Kencana Pelaihari / Bendungan Gunung Makmur", status: "Berlangsung" },
            { cabor: "Panjat Tebing", dates: "24 Oktober - 30 Oktober 2025", venue: "RTH Kijangmas Permai", status: "Berlangsung" },
            { cabor: "Gulat", dates: "25 Oktober - 30 Oktober 2025", venue: "Gedung Serba Guna Kecamatan Jorong", status: "Berlangsung" },
            { cabor: "Tinju", dates: "26 Oktober - 31 Oktober 2025", venue: "Gedung Serba Guna RTH Kijang Mas", status: "Berlangsung" },
            { cabor: "Kick Boxing", dates: "26 Oktober - 31 Oktober 2025", venue: "Gedung Serba Guna Desa Panggung", status: "Berlangsung" },
            { cabor: "Panahan", dates: "26 Oktober - 31 Oktober 2025", venue: "RTH Kijangmas Permai", status: "Berlangsung" },
            { cabor: "Judo", dates: "26 Oktober - 01 November 2025", venue: "Gedung Serbaguna H. Iriansyah - Matah", status: "Berlangsung" },
            { cabor: "Wushu", dates: "27 Oktober - 31 Oktober 2025", venue: "Gudang Logistik KPU Tanah Laut", status: "Berlangsung" },
            { cabor: "Pencak Silat", dates: "27 Oktober - 30 Oktober 2025", venue: "Gedung Paraduta Kodim 1009 Pelaihari", status: "Berlangsung" },
            { cabor: "Taekwondo", dates: "27 Oktober - 01 November 2025", venue: "Lapangan Tennis Indoor Pemuda", status: "Berlangsung" },
            { cabor: "Tenis Lapangan", dates: "27 Oktober - 08 November 2025", venue: "Lapangan Tenis Matah / Lapangan Tenis Pemuda", status: "Berlangsung" },
            { cabor: "Baseball dan Softball", dates: "27 Oktober - 05 November 2025", venue: "Lapangan Bola SMK PP Pelaihari", status: "Berlangsung" },
            { cabor: "Bola Tangan", dates: "26 Oktober - 04 November 2025", venue: "Gedung Futsal Bati Bati / Pantai Takisung", status: "Berlangsung" },
            { cabor: "Voli Pasir", dates: "28 Oktober - 03 November 2025", venue: "Pantai Batakan Baru", status: "Berlangsung" },
            { cabor: "Bulu Tangkis", dates: "28 Oktober - 03 November 2025", venue: "GOR Tuntung Pandang / GOR Karya Pelita", status: "Berlangsung" },
            { cabor: "Sepak Takraw", dates: "28 Oktober - 08 November 2025", venue: "Gedung Aufar Futsal Pelaihari", status: "Berlangsung" },
            { cabor: "Balap Sepeda", dates: "28 Oktober - 03 November 2025", venue: "Jalan Kota Pelaihari (CERITATIUM) / Sirkuit Sepeda Gunung Kayangan", status: "Berlangsung" },
            { cabor: "Sepak Bola Putra", dates: "28 Oktober - 13 November 2025", venue: "Stadion Pertasi Kencana / Lapangan Karang Taruna", status: "Berlangsung" },
            { cabor: "Bola Basket", dates: "29 Oktober - 07 November 2025", venue: "Lapangan Basket RTH Kijangmas Permai", status: "Berlangsung" },
            { cabor: "Dansa", dates: "29 Oktober - 31 Oktober 2025", venue: "Gedung Balairung Tuntung Pandang", status: "Berlangsung" },
            { cabor: "Catur", dates: "29 Oktober - 04 November 2025", venue: "Aula Dinas PUPRP", status: "Berlangsung" },
            // Cabor yang akan datang
            { cabor: "Esport", dates: "30 Oktober - 05 November 2025", venue: "Aula Dinas Pendidikan Pelaihari", status: "Terjadwal" },
            { cabor: "Aeromodelling", dates: "31 Oktober - 05 November 2025", venue: "Maluka Baulin", status: "Terjadwal" },
            { cabor: "Binaraga", dates: "31 Oktober - 03 November 2025", venue: "Aula Hutan Jati/Kantor DisPora Pelaihari", status: "Terjadwal" },
            { cabor: "Gateball", dates: "02 November - 04 November 2025", venue: "RTH Hasan Basri Pelaihari", status: "Terjadwal" },
            { cabor: "Bridge", dates: "02 November - 09 November 2025", venue: "Gedung Balairung Tuntung Pandang", status: "Terjadwal" },
            { cabor: "Biliar", dates: "02 November - 12 November 2025", venue: "Gedung Pusdiklat Bilyard Komplek CP", status: "Terjadwal" },
            { cabor: "Loncat Indah", dates: "02 November - 09 November 2025", venue: "Kolam Renang SKB Banjarmasin", status: "Terjadwal" },
            { cabor: "Anggar", dates: "02 November - 08 November 2025", venue: "Gedung Serantang Seruntung Pelaihari", status: "Terjadwal" },
            { cabor: "Sambo", dates: "02 November - 05 November 2025", venue: "Gedung Serba Guna Kecamatan Jorong", status: "Terjadwal" },
            { cabor: "MMA", dates: "02 November - 05 November 2025", venue: "Gedung Serba Guna Desa Bumi Jaya", status: "Terjadwal" },
            { cabor: "Barongsai", dates: "03 November - 04 November 2025", venue: "Gudang Logistik KPU Tanah Laut", status: "Terjadwal" },
            { cabor: "Petanque", dates: "03 November - 07 November 2025", venue: "Lapangan Petanque Pertasi Kencana", status: "Terjadwal" },
            { cabor: "Drumband", dates: "03 November - 13 November 2025", venue: "Jalan 6 / 8 Kilo Kota Pelaihari / Stadion Pertasi Kencana", status: "Terjadwal" },
            { cabor: "Golf", dates: "03 November - 07 November 2025", venue: "Lapangan Golf Swargaloka Banjarbaru", status: "Terjadwal" },
            { cabor: "Atletik", dates: "03 November - 07 November 2025", venue: "Stadion Pertasi Kencana", status: "Terjadwal" },
            { cabor: "Arung Jeram", dates: "03 November - 05 November 2025", venue: "Sungai Bakar & Ketapang - Bajuin", status: "Terjadwal" },
            { cabor: "Kempo", dates: "03 November - 06 November 2025", venue: "Gedung Paraduta Kodim 1009 Pelaihari", status: "Terjadwal" },
            { cabor: "Kurash", dates: "03 November - 07 November 2025", venue: "Aula SMK PP Pelaihari", status: "Terjadwal" },
            { cabor: "Futsal", dates: "03 November - 11 November 2025", venue: "Gedung Futsal Bati Bati", status: "Terjadwal" },
            { cabor: "Tenis Meja", dates: "04 November - 10 November 2025", venue: "Lapangan Tennis Indoor Pemuda", status: "Terjadwal" },
            { cabor: "Menembak", dates: "05 November - 12 November 2025", venue: "Gudang Logistik KPU Tanah Laut / Lapangan Pertasi Kencana Outdoor", status: "Terjadwal" },
            { cabor: "Sepatu Roda & Skateboard", dates: "05 November - 11 November 2025", venue: "RTH Hasan Basri Pelaihari / Jalan Raya H. Boejasin", status: "Terjadwal" },
            { cabor: "Voli Indoor", dates: "06 November - 13 November 2025", venue: "GOR Tuntung Pandang", status: "Terjadwal" },
            { cabor: "Pickleball", dates: "06 November - 08 November 2025", venue: "Sport Center Perdana", status: "Terjadwal" },
            { cabor: "Angkat Berat", dates: "06 November - 08 November 2025", venue: "Aula Hutan Jati/Kantor DisPora Pelaihari", status: "Terjadwal" },
            { cabor: "Sepak Bola Putri", dates: "07 November - 13 November 2025", venue: "Lapangan Pinang Berbaris", status: "Terjadwal" },
            { cabor: "Balap Motor", dates: "08 November - 09 November 2025", venue: "Sirkuit Matah", status: "Terjadwal" },
            { cabor: "Muaythai", dates: "08 November - 13 November 2025", venue: "Gedung Serba Guna RTH Kijang Mas", status: "Terjadwal" },
            { cabor: "Karate", dates: "09 November - 13 November 2025", venue: "Gedung Paraduta Kodim 1009 Pelaihari", status: "Terjadwal" },
            { cabor: "Teqball", dates: "09 November - 13 November 2025", venue: "Gedung Serba Guna Desa Panggung", status: "Terjadwal" },
            { cabor: "Paralayang", dates: "09 November - 13 November 2025", venue: "Gunung Katunun Pelaihari", status: "Terjadwal" },
            { cabor: "Senam", dates: "09 November - 13 November 2025", venue: "Lapangan Basket RTH Kijangmas Permai", status: "Terjadwal" },
            { cabor: "Ski Air", dates: "09 November - 13 November 2025", venue: "Pantai Batakan Baru", status: "Terjadwal" },
            { cabor: "Triathlon", dates: "09 November - 13 November 2025", venue: "Takisung", status: "Terjadwal" },
            { cabor: "Berkuda Memanah", dates: "09 November - 13 November 2025", venue: "Pantai Batakan Baru", status: "Terjadwal" },
            { cabor: "Hapkido", dates: "09 November - 13 November 2025", venue: "Lapangan Tenis Matah", status: "Terjadwal" },
            { cabor: "Ju-jitsu", dates: "11 November - 13 November 2025", venue: "Gedung Serbaguna H. Iriansyah - Matah", status: "Terjadwal" },
            { cabor: "Angkat Besi", dates: "12 November - 13 November 2025", venue: "Aula Hutan Jati/Kantor DisPora Pelaihari", status: "Terjadwal" },
        ];


        // --- JAVASCRIPT FUNCTIONS ---

        // Function to render the medal standings table
        function renderStandings() {
            const tbody = document.getElementById('medal-standings');
            tbody.innerHTML = ''; // Clear existing content

            // Sort standings data by Gold, then Silver, then Bronze (manual sort as rank order has changed)
            const sortedStandings = [...standingsData].sort((a, b) => {
                if (a.gold !== b.gold) return b.gold - a.gold;
                if (a.silver !== b.silver) return b.silver - a.silver;
                return b.bronze - a.bronze;
            }).map((data, index) => ({...data, rank: index + 1, badge: (index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : '')}));


            sortedStandings.forEach((data) => {
                const isTop3 = data.rank <= 3;
                const isTapin = data.city === 'Kab. Tapin'; // Check for Tapin

                // Highlight row for Top 3 (Yellow border) or Tapin (Red border)
                let rowClass;
                let rankClass;

                if (isTapin) {
                    // Unique highlight for Tapin
                    rowClass = 'bg-red-900/40 hover:bg-red-900/60 border-l-4 border-red-500 text-red-100 font-extrabold shadow-lg';
                    rankClass = 'text-red-400';
                } else {
                    rowClass = isTop3 ? 'bg-slate-700/70 hover:bg-slate-600 border-l-4 border-yellow-500' : 'bg-slate-800/70 hover:bg-slate-700';
                    rankClass = isTop3 ? 'text-yellow-500' : 'text-white';
                }

                const row = `
                    <tr class="${rowClass} border-b border-slate-700 transition duration-150">
                        <td class="p-3 font-bold ${rankClass}">
                            ${data.badge} ${data.rank}
                        </td>
                        <td class="p-3 font-semibold">${data.city}</td>
                        <td class="p-3 text-center text-yellow-500 font-bold">${data.gold}</td>
                        <td class="p-3 text-center text-gray-400 font-bold">${data.silver}</td>
                        <td class="p-3 text-center text-amber-700 font-bold">${data.bronze}</td>
                        <td class="p-3 text-center text-red-500 font-extrabold">${data.total}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
            
            // Update Top 3 Cards
            const top1 = sortedStandings.find(s => s.rank === 1);
            const top2 = sortedStandings.find(s => s.rank === 2);
            const top3 = sortedStandings.find(s => s.rank === 3);

            if (top1) {
                document.querySelector('#klasemen .grid > div:nth-child(2) p:nth-child(2)').textContent = top1.city;
                document.querySelector('#klasemen .grid > div:nth-child(2) p:nth-child(3)').textContent = top1.total;
            }
            if (top2) {
                document.querySelector('#klasemen .grid > div:nth-child(1) p:nth-child(2)').textContent = top2.city;
                document.querySelector('#klasemen .grid > div:nth-child(1) p:nth-child(3)').textContent = top2.total;
            }
            if (top3) {
                document.querySelector('#klasemen .grid > div:nth-child(3) p:nth-child(2)').textContent = top3.city;
                document.querySelector('#klasemen .grid > div:nth-child(3) p:nth-child(3)').textContent = top3.total;
            }
            
            // Update total overall medals stat
            document.getElementById('stat-medali').textContent = totalOverallMedals;
        }

        // Renders the detailed list of athlete achievements for Tapin
        function renderAthleteAchievements() {
            const tbody = document.getElementById('athlete-achievements-body');
            tbody.innerHTML = ''; // Clear existing content

            athleteData.forEach((atlet, index) => {
                const medalClass = atlet.medal === 'ü•á' ? 'text-yellow-500 font-extrabold' : 
                                     atlet.medal === 'ü•à' ? 'text-gray-400 font-extrabold' : 'text-amber-700 font-extrabold';
                
                // Set default for class if not provided in data
                const athleteClass = atlet.class && atlet.class !== 'TBD' ? atlet.class : '';

                const row = `
                    <tr class="bg-slate-800/70 hover:bg-slate-700 border-b border-slate-700 transition duration-150">
                        <td class="p-3 font-semibold">${index + 1}.</td>
                        <td class="p-3 text-sm text-yellow-500">${atlet.date || 'TBA'}</td>
                        <td class="p-3 uppercase text-sm">${atlet.cabor}</td>
                        <td class="p-3 font-bold text-white">${atlet.name}</td>
                        <td class="p-3 text-sm">${athleteClass} (${atlet.category})</td>
                        <td class="p-3 text-center text-xl ${medalClass}">${atlet.medal}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }
        
        // Renders the summary of achievements per Cabor for Tapin
        function renderCaborAchievements() {
            const tbody = document.getElementById('cabor-achievements-body');
            tbody.innerHTML = ''; // Clear existing content
            
            // 1. Aggregate data by Cabor
            const caborSummary = athleteData.reduce((acc, current) => {
                const caborName = current.cabor;
                if (!acc[caborName]) {
                    acc[caborName] = { gold: 0, silver: 0, bronze: 0, total: 0 };
                }
                
                if (current.medal === 'ü•á') acc[caborName].gold++;
                else if (current.medal === 'ü•à') acc[caborName].silver++;
                else if (current.medal === 'ü•â') acc[caborName].bronze++;
                
                acc[caborName].total++;
                return acc;
            }, {});

            // 2. Convert to array and sort (by Gold, then Silver, then Bronze)
            const sortedCaborList = Object.keys(caborSummary).map(cabor => ({
                cabor: cabor,
                ...caborSummary[cabor]
            })).sort((a, b) => {
                if (a.gold !== b.gold) return b.gold - a.gold;
                if (a.silver !== b.silver) return b.silver - a.silver;
                return b.bronze - a.bronze;
            });

            // 3. Render the table rows
            sortedCaborList.forEach((data, index) => {
                const row = `
                    <tr class="bg-slate-800/70 hover:bg-slate-700 border-b border-slate-700 transition duration-150">
                        <td class="p-3 font-semibold">${index + 1}.</td>
                        <td class="p-3 font-bold text-yellow-500">${data.cabor}</td>
                        <td class="p-3 text-center text-yellow-500 font-bold">${data.gold}</td>
                        <td class="p-3 text-center text-gray-400 font-bold">${data.silver}</td>
                        <td class="p-3 text-center text-amber-700 font-bold">${data.bronze}</td>
                        <td class="p-3 text-center text-red-500 font-extrabold">${data.total}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Function to render the schedule list
        function renderSchedule() {
            const scheduleList = document.getElementById('schedule-list');
            scheduleList.innerHTML = ''; // Clear existing content

            scheduleData.forEach((item, index) => {
                // Determine border color based on status
                const borderColor = item.status === 'Berlangsung' ? 'border-red-600' : 'border-yellow-500';
                const statusColor = item.status === 'Berlangsung' ? 'text-red-400' : 'text-yellow-400';

                const html = `
                    <div class="p-4 bg-slate-900 rounded-lg border-l-4 ${borderColor} hover:bg-slate-700 transition duration-200">
                        <p class="text-base font-bold text-white">${item.cabor}</p>
                        <p class="text-sm text-yellow-400 mt-1">${item.dates}</p>
                        <p class="text-xs text-slate-400">Venue: ${item.venue}</p>
                        <p class="text-xs ${statusColor} font-semibold mt-1">Status: ${item.status}</p>
                    </div>
                `;
                scheduleList.innerHTML += html;
            });
        }


        // Function to handle the Countdown Timer and Status
        function startCountdown() {
            // Set the target date range for the event (Oct 23 - Nov 13, 2025)
            const eventStartDate = new Date("October 23, 2025 00:00:00").getTime();
            const eventEndDate = new Date("November 13, 2025 23:59:59").getTime();
            const countdownEl = document.getElementById('countdown');
            const statusEl = document.getElementById('countdown-status');

            const updateCountdown = setInterval(function() {
                const now = new Date().getTime();
                
                // NOTE: Today is fixed at Oct 29, 2025 for demo purposes.
                // We overwrite 'now' to ensure it always shows "BERLANGSUNG" for the demo.
                // const fixedNow = new Date("October 29, 2025 10:00:00").getTime(); 
                
                if (now >= eventStartDate && now <= eventEndDate) {
                    // EVENT IS ONGOING (Between Oct 23 and Nov 13, 2025)
                    countdownEl.innerHTML = '<p class="text-4xl md:text-5xl text-red-500 font-extrabold tracking-wider">PORPROV SEDANG BERLANGSUNG!</p>';
                    statusEl.textContent = 'Ayo dukung atlet Tapin!';
                    return;

                } else if (now > eventEndDate) {
                    // Event is finished
                    clearInterval(updateCountdown);
                    countdownEl.innerHTML = '<p class="text-4xl text-yellow-500 font-extrabold">PORPROV TELAH USAI</p>';
                    statusEl.textContent = 'Selamat kepada para juara!';
                    return;
                }
                
                // Pre-event countdown (If the actual date was before Oct 23, 2025)
                const distance = eventStartDate - now;
                
                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                const format = (num) => String(num).padStart(2, '0');

                countdownEl.innerHTML = `
                    <div class="countdown-tile p-4 w-20 md:w-32 rounded-lg">
                        <p class="text-4xl md:text-5xl font-extrabold text-yellow-500">${format(days)}</p>
                        <p class="text-xs md:text-sm uppercase tracking-wider text-slate-400 mt-1">Hari</p>
                    </div>
                    <span class="text-4xl text-yellow-600">:</span>
                    <div class="countdown-tile p-4 w-20 md:w-32 rounded-lg">
                        <p class="text-4xl md:text-5xl font-extrabold text-yellow-500">${format(hours)}</p>
                        <p class="text-xs md:text-sm uppercase tracking-wider text-slate-400 mt-1">Jam</p>
                    </div>
                    <span class="text-4xl text-yellow-600">:</span>
                    <div class="countdown-tile p-4 w-20 md:w-32 rounded-lg">
                        <p class="text-4xl md:text-5xl font-extrabold text-yellow-500">${format(minutes)}</p>
                        <p class="text-xs md:text-sm uppercase tracking-wider text-slate-400 mt-1">Menit</p>
                    </div>
                    <span class="text-4xl text-yellow-600">:</span>
                    <div class="countdown-tile p-4 w-20 md:w-32 rounded-lg">
                        <p class="text-4xl md:text-5xl font-extrabold text-yellow-500">${format(seconds)}</p>
                        <p class="text-xs md:text-sm uppercase tracking-wider text-slate-400 mt-1">Detik</p>
                    </div>
                `;
                statusEl.textContent = 'Menuju pembukaan resmi';

            }, 1000);
        }

        // Mobile Menu Toggle
        function setupMobileMenu() {
            const button = document.getElementById('mobile-menu-button');
            const menu = document.getElementById('mobile-menu');

            button.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });

            // Close menu when a link is clicked
            menu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    menu.classList.add('hidden');
                });
            });
        }


        // --- INITIALIZATION ---
        window.onload = function() {
            renderStandings();
            renderAthleteAchievements();
            renderCaborAchievements();
            renderSchedule();
            startCountdown();
            setupMobileMenu();
        };
    </script>
</body>
</html>
