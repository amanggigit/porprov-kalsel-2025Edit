<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - KONI Kabupaten Tapin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { 
            font-family: 'Inter', sans-serif; 
            box-sizing: border-box; 
        }
        .gradient-bg { 
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 50%, #60a5fa 100%); 
        }
        .card-hover { 
            transition: all 0.3s ease; 
        }
        .card-hover:hover { 
            transform: translateY(-2px); 
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1); 
        }
        .tab-active { 
            background: linear-gradient(135deg, #3b82f6, #1d4ed8); 
            color: white; 
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-indigo-900 to-blue-900">
    <!-- Header -->
    <header class="gradient-bg text-white shadow-lg">
        <div class="container mx-auto px-4 py-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                    <div class="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center ring-4 ring-white/20">
                        <span class="text-3xl">⚙️</span>
                    </div>
                    <div>
                        <h1 class="text-3xl font-bold">Admin Panel</h1>
                        <p class="text-blue-100 mt-1">KONI Kabupaten Tapin - Sistem Manajemen Data</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-center">
                        <div class="text-lg font-bold" id="current-date"></div>
                        <div class="text-sm text-blue-100">Hari Ini</div>
                    </div>
                    <a href="index.html" class="bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg text-sm font-medium transition-colors">
                        🏠 Kembali ke Beranda
                    </a>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="bg-white shadow-sm sticky top-0 z-40">
        <div class="container mx-auto px-4">
            <div class="flex overflow-x-auto">
                <button onclick="showTab('dashboard')" id="tab-dashboard" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap tab-active">
                    📊 Dashboard
                </button>
                <button onclick="showTab('berita')" id="tab-berita" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap">
                    📰 Kelola Berita
                </button>
                <button onclick="showTab('medali')" id="tab-medali" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap">
                    🏆 Kelola Medali
                </button>
                <button onclick="showTab('jadwal')" id="tab-jadwal" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap">
                    📅 Kelola Jadwal
                </button>
                <button onclick="showTab('venue')" id="tab-venue" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap">
                    🏟️ Kelola Venue
                </button>
                <button onclick="showTab('layanan')" id="tab-layanan" class="tab-button px-6 py-4 font-medium text-gray-600 hover:text-blue-600 whitespace-nowrap">
                    🏥 Kelola Layanan
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Dashboard Tab -->
        <div id="content-dashboard" class="tab-content">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">📊 Dashboard Admin</h2>
                <p class="text-blue-100">Ringkasan data dan statistik KONI Kabupaten Tapin</p>
            </div>

            <!-- Stats Cards -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                    <div class="text-3xl mb-2">📰</div>
                    <div class="text-2xl font-bold text-gray-800" id="total-berita">0</div>
                    <div class="text-gray-600">Total Berita</div>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                    <div class="text-3xl mb-2">🏆</div>
                    <div class="text-2xl font-bold text-gray-800" id="total-medali-dashboard">0</div>
                    <div class="text-gray-600">Total Medali</div>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                    <div class="text-3xl mb-2">📅</div>
                    <div class="text-2xl font-bold text-gray-800" id="total-jadwal">0</div>
                    <div class="text-gray-600">Total Jadwal</div>
                </div>
                <div class="bg-white rounded-lg shadow-md p-6 text-center card-hover">
                    <div class="text-3xl mb-2">🏥</div>
                    <div class="text-2xl font-bold text-gray-800" id="total-layanan">0</div>
                    <div class="text-gray-600">Total Layanan</div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold mb-4">⚡ Aksi Cepat</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                    <button onclick="showTab('berita')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium">
                        📰 Tambah Berita
                    </button>
                    <button onclick="showTab('medali')" class="bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium">
                        🏆 Update Medali
                    </button>
                    <button onclick="showTab('jadwal')" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium">
                        📅 Tambah Jadwal
                    </button>
                    <button onclick="showTab('layanan')" class="bg-red-600 hover:bg-red-700 text-white px-4 py-3 rounded-lg font-medium">
                        🏥 Kelola Layanan
                    </button>
                </div>
            </div>
        </div>

        <!-- Berita Management Tab -->
        <div id="content-berita" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">📰 Kelola Berita</h2>
                <p class="text-blue-100">Tambah, edit, dan hapus berita KONI Kabupaten Tapin</p>
            </div>

            <!-- Add Berita Form -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-bold mb-4">➕ Tambah Berita Baru</h3>
                <form id="form-berita" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Judul Berita</label>
                            <input type="text" id="berita-judul" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kategori</label>
                            <select id="berita-kategori" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                <option value="">Pilih Kategori</option>
                                <option value="UMUM">Umum</option>
                                <option value="RENANG">Renang</option>
                                <option value="SEPAK BOLA">Sepak Bola</option>
                                <option value="ATLETIK">Atletik</option>
                                <option value="BASKET">Basket</option>
                                <option value="BULU TANGKIS">Bulu Tangkis</option>
                                <option value="VOLI">Voli</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Ringkasan</label>
                        <textarea id="berita-ringkasan" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Isi Berita</label>
                        <textarea id="berita-isi" rows="6" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg font-medium">
                            💾 Simpan Berita
                        </button>
                        <button type="button" onclick="resetFormBerita()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium">
                            🔄 Reset Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Berita List -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold mb-4">📋 Daftar Berita</h3>
                <div id="admin-berita-list" class="space-y-4">
                    <!-- Berita list will be populated here -->
                </div>
            </div>
        </div>

        <!-- Medali Management Tab -->
        <div id="content-medali" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">🏆 Kelola Medali</h2>
                <p class="text-blue-100">Update perolehan medali per kabupaten/kota</p>
            </div>

            <!-- Medali Form -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-bold mb-4">🏅 Update Medali</h3>
                <form id="form-medali" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kabupaten/Kota</label>
                            <select id="medali-kabupaten" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                <option value="">Pilih Kabupaten/Kota</option>
                                <option value="Banjarmasin">Banjarmasin</option>
                                <option value="Banjarbaru">Banjarbaru</option>
                                <option value="Tapin">Tapin</option>
                                <option value="Hulu Sungai Selatan">Hulu Sungai Selatan</option>
                                <option value="Tanah Laut">Tanah Laut</option>
                                <option value="Balangan">Balangan</option>
                                <option value="Banjar">Banjar</option>
                                <option value="Barito Kuala">Barito Kuala</option>
                                <option value="Hulu Sungai Tengah">Hulu Sungai Tengah</option>
                                <option value="Hulu Sungai Utara">Hulu Sungai Utara</option>
                                <option value="Kotabaru">Kotabaru</option>
                                <option value="Tabalong">Tabalong</option>
                                <option value="Tanah Bumbu">Tanah Bumbu</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">🥇 Emas</label>
                            <input type="number" id="medali-emas" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">🥈 Perak</label>
                            <input type="number" id="medali-perak" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">🥉 Perunggu</label>
                            <input type="number" id="medali-perunggu" min="0" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium">
                            💾 Update Medali
                        </button>
                        <button type="button" onclick="resetFormMedali()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium">
                            🔄 Reset Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Medali Table -->
            <div class="bg-white rounded-lg shadow-md overflow-hidden">
                <div class="p-6 border-b">
                    <h3 class="text-xl font-bold">📊 Tabel Medali Saat Ini</h3>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="gradient-bg text-white">
                            <tr>
                                <th class="px-6 py-4 text-left">Kabupaten/Kota</th>
                                <th class="px-6 py-4 text-center">🥇 Emas</th>
                                <th class="px-6 py-4 text-center">🥈 Perak</th>
                                <th class="px-6 py-4 text-center">🥉 Perunggu</th>
                                <th class="px-6 py-4 text-center">Total</th>
                                <th class="px-6 py-4 text-center">Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="admin-medali-table">
                            <!-- Medali data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Jadwal Management Tab -->
        <div id="content-jadwal" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">📅 Kelola Jadwal</h2>
                <p class="text-blue-100">Tambah dan kelola jadwal pertandingan</p>
            </div>

            <!-- Add Jadwal Form -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-bold mb-4">➕ Tambah Jadwal Baru</h3>
                <form id="form-jadwal" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cabang Olahraga</label>
                            <input type="text" id="jadwal-cabor" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Tanggal</label>
                            <input type="date" id="jadwal-tanggal" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Waktu</label>
                            <input type="time" id="jadwal-waktu" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Keterangan</label>
                            <select id="jadwal-keterangan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                                <option value="">Pilih Keterangan</option>
                                <option value="Penyisihan">Penyisihan</option>
                                <option value="Perempat Final">Perempat Final</option>
                                <option value="Semifinal">Semifinal</option>
                                <option value="Final">Final</option>
                                <option value="Babak Utama">Babak Utama</option>
                            </select>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Venue</label>
                        <input type="text" id="jadwal-venue" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-medium">
                            💾 Simpan Jadwal
                        </button>
                        <button type="button" onclick="resetFormJadwal()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium">
                            🔄 Reset Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Jadwal List -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold mb-4">📋 Daftar Jadwal</h3>
                <div id="admin-jadwal-list" class="space-y-4">
                    <!-- Jadwal list will be populated here -->
                </div>
            </div>
        </div>

        <!-- Venue Management Tab -->
        <div id="content-venue" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">🏟️ Kelola Venue</h2>
                <p class="text-blue-100">Tambah dan kelola venue pertandingan</p>
            </div>

            <!-- Add Venue Form -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-bold mb-4">➕ Tambah Venue Baru</h3>
                <form id="form-venue" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Venue</label>
                            <input type="text" id="venue-nama" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Lokasi</label>
                            <input type="text" id="venue-lokasi" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Cabang Olahraga (pisahkan dengan koma)</label>
                            <textarea id="venue-cabor" rows="3" placeholder="Contoh: Sepak Bola, Basket, Voli" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Emoji</label>
                            <input type="text" id="venue-emoji" placeholder="🏟️" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div class="flex gap-4">
                        <button type="submit" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg font-medium">
                            💾 Simpan Venue
                        </button>
                        <button type="button" onclick="resetFormVenue()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium">
                            🔄 Reset Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Venue List -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold mb-4">📋 Daftar Venue</h3>
                <div id="admin-venue-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    <!-- Venue list will be populated here -->
                </div>
            </div>
        </div>

        <!-- Layanan Management Tab -->
        <div id="content-layanan" class="tab-content hidden">
            <div class="mb-6">
                <h2 class="text-3xl font-bold text-white mb-2">🏥 Kelola Layanan</h2>
                <p class="text-blue-100">Tambah dan kelola kontak layanan KONI Kabupaten Tapin</p>
            </div>

            <!-- Add Layanan Form -->
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-bold mb-4">➕ Tambah Layanan Baru</h3>
                <form id="form-layanan" class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Kategori</label>
                            <select id="layanan-kategori" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                                <option value="">Pilih Kategori</option>
                                <option value="SEKRETARIAT">Sekretariat</option>
                                <option value="TIM KESEHATAN">Tim Kesehatan</option>
                                <option value="KEAMANAN">Keamanan</option>
                                <option value="TIM MONEV">Tim Monev</option>
                                <option value="TRANSPORTASI">Transportasi</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Nama Lengkap</label>
                            <input type="text" id="layanan-nama" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Jabatan</label>
                            <input type="text" id="layanan-jabatan" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Handphone</label>
                            <input type="tel" id="layanan-handphone" placeholder="0812-3456-7890" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Alamat</label>
                        <textarea id="layanan-alamat" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required></textarea>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Email (opsional)</label>
                            <input type="email" id="layanan-email" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Emoji</label>
                            <input type="text" id="layanan-emoji" placeholder="👨‍⚕️" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500" required>
                        </div>
                    </div>
                    
                    <!-- Additional fields based on category -->
                    <div id="additional-fields" class="space-y-4">
                        <!-- Dynamic fields will be added here -->
                    </div>

                    <div class="flex gap-4">
                        <button type="submit" class="bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium">
                            💾 Simpan Layanan
                        </button>
                        <button type="button" onclick="resetFormLayanan()" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg font-medium">
                            🔄 Reset Form
                        </button>
                    </div>
                </form>
            </div>

            <!-- Layanan List -->
            <div class="bg-white rounded-lg shadow-md p-6">
                <h3 class="text-xl font-bold mb-4">📋 Daftar Layanan</h3>
                <div class="mb-4">
                    <select id="filter-layanan-kategori" class="px-3 py-2 border border-gray-300 rounded-lg" onchange="filterLayananAdmin()">
                        <option value="">Semua Kategori</option>
                        <option value="SEKRETARIAT">Sekretariat</option>
                        <option value="TIM KESEHATAN">Tim Kesehatan</option>
                        <option value="KEAMANAN">Keamanan</option>
                        <option value="TIM MONEV">Tim Monev</option>
                        <option value="TRANSPORTASI">Transportasi</option>
                    </select>
                </div>
                <div id="admin-layanan-list" class="space-y-4">
                    <!-- Layanan list will be populated here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="gradient-bg text-white mt-16">
        <div class="container mx-auto px-4 py-8">
            <div class="text-center">
                <div class="flex items-center justify-center space-x-2 mb-4">
                    <span class="text-2xl">⚙️</span>
                    <span class="font-bold text-lg">Admin Panel - KONI Kabupaten Tapin</span>
                </div>
                <p class="text-blue-100">&copy; 2025 KONI Kabupaten Tapin. Sistem Manajemen Data.</p>
            </div>
        </div>
    </footer>

    <script>
        // Data Storage
        let dataBerita = JSON.parse(localStorage.getItem('porprov-berita') || '[]');
        let dataMedali = JSON.parse(localStorage.getItem('porprov-medali') || '{}');
        let dataJadwal = JSON.parse(localStorage.getItem('porprov-jadwal') || '[]');
        let dataVenue = JSON.parse(localStorage.getItem('porprov-venue') || '[]');
        let dataLayanan = JSON.parse(localStorage.getItem('koni-layanan') || '[]');

        // Tab Management
        function showTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-button').forEach(t => {
                t.classList.remove('tab-active');
                t.classList.add('text-gray-600', 'hover:text-blue-600');
            });
            document.getElementById('content-' + tabName).classList.remove('hidden');
            const activeTab = document.getElementById('tab-' + tabName);
            activeTab.classList.add('tab-active');
            activeTab.classList.remove('text-gray-600', 'hover:text-blue-600');

            // Load data when switching tabs
            if (tabName === 'dashboard') loadDashboard();
            if (tabName === 'berita') loadAdminBerita();
            if (tabName === 'medali') loadAdminMedali();
            if (tabName === 'jadwal') loadAdminJadwal();
            if (tabName === 'venue') loadAdminVenue();
            if (tabName === 'layanan') loadAdminLayanan();
        }

        // Dashboard Functions
        function loadDashboard() {
            document.getElementById('total-berita').textContent = dataBerita.length;
            
            let totalMedali = 0;
            Object.values(dataMedali).forEach(medali => {
                totalMedali += medali.emas + medali.perak + medali.perunggu;
            });
            document.getElementById('total-medali-dashboard').textContent = totalMedali;
            document.getElementById('total-jadwal').textContent = dataJadwal.length;
            document.getElementById('total-layanan').textContent = dataLayanan.length;
        }

        // Berita Management
        document.getElementById('form-berita').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newBerita = {
                id: Date.now(),
                judul: document.getElementById('berita-judul').value,
                kategori: document.getElementById('berita-kategori').value,
                ringkasan: document.getElementById('berita-ringkasan').value,
                isi: document.getElementById('berita-isi').value,
                tanggal: new Date().toLocaleDateString('id-ID', { day: 'numeric', month: 'long', year: 'numeric' })
            };
            
            dataBerita.unshift(newBerita);
            localStorage.setItem('porprov-berita', JSON.stringify(dataBerita));
            
            alert('✅ Berita berhasil ditambahkan!');
            resetFormBerita();
            loadAdminBerita();
        });

        function resetFormBerita() {
            document.getElementById('form-berita').reset();
        }

        function loadAdminBerita() {
            const container = document.getElementById('admin-berita-list');
            container.innerHTML = '';
            
            dataBerita.forEach(berita => {
                const div = document.createElement('div');
                div.className = 'border border-gray-200 rounded-lg p-4';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg">${berita.judul}</h4>
                        <div class="flex gap-2">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm">${berita.kategori}</span>
                            <button onclick="deleteBerita(${berita.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-sm">
                                🗑️ Hapus
                            </button>
                        </div>
                    </div>
                    <p class="text-gray-600 text-sm mb-2">${berita.ringkasan}</p>
                    <p class="text-gray-500 text-xs">${berita.tanggal}</p>
                `;
                container.appendChild(div);
            });
        }

        function deleteBerita(id) {
            if (confirm('Yakin ingin menghapus berita ini?')) {
                dataBerita = dataBerita.filter(b => b.id !== id);
                localStorage.setItem('porprov-berita', JSON.stringify(dataBerita));
                loadAdminBerita();
                alert('✅ Berita berhasil dihapus!');
            }
        }

        // Medali Management
        document.getElementById('form-medali').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const kabupaten = document.getElementById('medali-kabupaten').value;
            const emas = parseInt(document.getElementById('medali-emas').value);
            const perak = parseInt(document.getElementById('medali-perak').value);
            const perunggu = parseInt(document.getElementById('medali-perunggu').value);
            
            dataMedali[kabupaten] = { emas, perak, perunggu };
            localStorage.setItem('porprov-medali', JSON.stringify(dataMedali));
            
            alert('✅ Data medali berhasil diupdate!');
            resetFormMedali();
            loadAdminMedali();
        });

        function resetFormMedali() {
            document.getElementById('form-medali').reset();
        }

        function loadAdminMedali() {
            const tbody = document.getElementById('admin-medali-table');
            tbody.innerHTML = '';
            
            Object.entries(dataMedali).forEach(([kabupaten, medali]) => {
                const total = medali.emas + medali.perak + medali.perunggu;
                const tr = document.createElement('tr');
                tr.className = 'border-b hover:bg-gray-50';
                tr.innerHTML = `
                    <td class="px-6 py-4 font-semibold">${kabupaten}</td>
                    <td class="px-6 py-4 text-center font-bold text-yellow-600">${medali.emas}</td>
                    <td class="px-6 py-4 text-center font-bold text-gray-500">${medali.perak}</td>
                    <td class="px-6 py-4 text-center font-bold text-orange-600">${medali.perunggu}</td>
                    <td class="px-6 py-4 text-center font-bold">${total}</td>
                    <td class="px-6 py-4 text-center">
                        <button onclick="editMedali('${kabupaten}')" class="bg-blue-500 hover:bg-blue-600 text-white px-2 py-1 rounded text-sm mr-1">
                            ✏️ Edit
                        </button>
                    </td>
                `;
                tbody.appendChild(tr);
            });
        }

        function editMedali(kabupaten) {
            const medali = dataMedali[kabupaten];
            document.getElementById('medali-kabupaten').value = kabupaten;
            document.getElementById('medali-emas').value = medali.emas;
            document.getElementById('medali-perak').value = medali.perak;
            document.getElementById('medali-perunggu').value = medali.perunggu;
        }

        // Jadwal Management
        document.getElementById('form-jadwal').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newJadwal = {
                id: Date.now(),
                cabor: document.getElementById('jadwal-cabor').value,
                tanggal: document.getElementById('jadwal-tanggal').value,
                waktu: document.getElementById('jadwal-waktu').value,
                venue: document.getElementById('jadwal-venue').value,
                keterangan: document.getElementById('jadwal-keterangan').value
            };
            
            dataJadwal.push(newJadwal);
            localStorage.setItem('porprov-jadwal', JSON.stringify(dataJadwal));
            
            alert('✅ Jadwal berhasil ditambahkan!');
            resetFormJadwal();
            loadAdminJadwal();
        });

        function resetFormJadwal() {
            document.getElementById('form-jadwal').reset();
        }

        function loadAdminJadwal() {
            const container = document.getElementById('admin-jadwal-list');
            container.innerHTML = '';
            
            dataJadwal.forEach(jadwal => {
                const div = document.createElement('div');
                div.className = 'border border-gray-200 rounded-lg p-4';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <h4 class="font-bold text-lg">${jadwal.cabor}</h4>
                        <div class="flex gap-2">
                            ${jadwal.keterangan ? `<span class="bg-red-100 text-red-800 px-2 py-1 rounded text-sm">${jadwal.keterangan}</span>` : ''}
                            <button onclick="deleteJadwal(${jadwal.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-sm">
                                🗑️ Hapus
                            </button>
                        </div>
                    </div>
                    <div class="text-gray-600 text-sm space-y-1">
                        <p>📅 ${new Date(jadwal.tanggal).toLocaleDateString('id-ID', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</p>
                        ${jadwal.waktu ? `<p>⏰ ${jadwal.waktu} WIB</p>` : ''}
                        <p>📍 ${jadwal.venue}</p>
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function deleteJadwal(id) {
            if (confirm('Yakin ingin menghapus jadwal ini?')) {
                dataJadwal = dataJadwal.filter(j => j.id !== id);
                localStorage.setItem('porprov-jadwal', JSON.stringify(dataJadwal));
                loadAdminJadwal();
                alert('✅ Jadwal berhasil dihapus!');
            }
        }

        // Venue Management
        document.getElementById('form-venue').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const cabor = document.getElementById('venue-cabor').value.split(',').map(c => c.trim());
            
            const newVenue = {
                id: Date.now(),
                nama: document.getElementById('venue-nama').value,
                lokasi: document.getElementById('venue-lokasi').value,
                cabor: cabor,
                emoji: document.getElementById('venue-emoji').value
            };
            
            dataVenue.push(newVenue);
            localStorage.setItem('porprov-venue', JSON.stringify(dataVenue));
            
            alert('✅ Venue berhasil ditambahkan!');
            resetFormVenue();
            loadAdminVenue();
        });

        function resetFormVenue() {
            document.getElementById('form-venue').reset();
        }

        function loadAdminVenue() {
            const container = document.getElementById('admin-venue-list');
            container.innerHTML = '';
            
            dataVenue.forEach(venue => {
                const div = document.createElement('div');
                div.className = 'border border-gray-200 rounded-lg p-4';
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center">
                            <span class="text-2xl mr-2">${venue.emoji}</span>
                            <h4 class="font-bold">${venue.nama}</h4>
                        </div>
                        <button onclick="deleteVenue(${venue.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-sm">
                            🗑️ Hapus
                        </button>
                    </div>
                    <p class="text-gray-600 text-sm mb-2">📍 ${venue.lokasi}</p>
                    <div class="flex flex-wrap gap-1">
                        ${venue.cabor.map(cabor => `<span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${cabor}</span>`).join('')}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function deleteVenue(id) {
            if (confirm('Yakin ingin menghapus venue ini?')) {
                dataVenue = dataVenue.filter(v => v.id !== id);
                localStorage.setItem('porprov-venue', JSON.stringify(dataVenue));
                loadAdminVenue();
                alert('✅ Venue berhasil dihapus!');
            }
        }

        // Layanan Management
        document.getElementById('layanan-kategori').addEventListener('change', function() {
            const kategori = this.value;
            const additionalFields = document.getElementById('additional-fields');
            additionalFields.innerHTML = '';
            
            if (kategori === 'TIM KESEHATAN') {
                additionalFields.innerHTML = `
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Regional Kecamatan</label>
                            <input type="text" id="layanan-regional" placeholder="Kecamatan Rantau" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Spesialisasi</label>
                            <input type="text" id="layanan-spesialisasi" placeholder="Dokter Umum & Olahraga" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                `;
            } else if (kategori === 'KEAMANAN') {
                additionalFields.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Instansi</label>
                        <input type="text" id="layanan-instansi" placeholder="Kepolisian Resort Tapin" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                `;
            } else if (kategori === 'TIM MONEV') {
                additionalFields.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Keahlian</label>
                        <input type="text" id="layanan-keahlian" placeholder="Manajemen Olahraga" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                `;
            } else if (kategori === 'TRANSPORTASI') {
                additionalFields.innerHTML = `
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Armada</label>
                        <input type="text" id="layanan-armada" placeholder="15 Unit Bus & 8 Unit Minibus" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
                    </div>
                `;
            }
        });

        document.getElementById('form-layanan').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newLayanan = {
                id: Date.now(),
                kategori: document.getElementById('layanan-kategori').value,
                nama: document.getElementById('layanan-nama').value,
                jabatan: document.getElementById('layanan-jabatan').value,
                handphone: document.getElementById('layanan-handphone').value,
                alamat: document.getElementById('layanan-alamat').value,
                email: document.getElementById('layanan-email').value,
                emoji: document.getElementById('layanan-emoji').value
            };
            
            // Add additional fields based on category
            const regional = document.getElementById('layanan-regional');
            const spesialisasi = document.getElementById('layanan-spesialisasi');
            const instansi = document.getElementById('layanan-instansi');
            const keahlian = document.getElementById('layanan-keahlian');
            const armada = document.getElementById('layanan-armada');
            
            if (regional) newLayanan.regional = regional.value;
            if (spesialisasi) newLayanan.spesialisasi = spesialisasi.value;
            if (instansi) newLayanan.instansi = instansi.value;
            if (keahlian) newLayanan.keahlian = keahlian.value;
            if (armada) newLayanan.armada = armada.value;
            
            dataLayanan.push(newLayanan);
            localStorage.setItem('koni-layanan', JSON.stringify(dataLayanan));
            
            alert('✅ Layanan berhasil ditambahkan!');
            resetFormLayanan();
            loadAdminLayanan();
        });

        function resetFormLayanan() {
            document.getElementById('form-layanan').reset();
            document.getElementById('additional-fields').innerHTML = '';
        }

        function loadAdminLayanan() {
            const container = document.getElementById('admin-layanan-list');
            container.innerHTML = '';
            
            const filteredLayanan = getFilteredLayanan();
            
            filteredLayanan.forEach(layanan => {
                const div = document.createElement('div');
                div.className = 'border border-gray-200 rounded-lg p-4';
                
                let additionalInfo = '';
                if (layanan.regional) additionalInfo += `<p class="text-sm text-gray-600">🏥 Regional: ${layanan.regional}</p>`;
                if (layanan.spesialisasi) additionalInfo += `<p class="text-sm text-gray-600">⚕️ Spesialisasi: ${layanan.spesialisasi}</p>`;
                if (layanan.instansi) additionalInfo += `<p class="text-sm text-gray-600">🏢 Instansi: ${layanan.instansi}</p>`;
                if (layanan.keahlian) additionalInfo += `<p class="text-sm text-gray-600">🎯 Keahlian: ${layanan.keahlian}</p>`;
                if (layanan.armada) additionalInfo += `<p class="text-sm text-gray-600">🚗 Armada: ${layanan.armada}</p>`;
                
                div.innerHTML = `
                    <div class="flex justify-between items-start mb-2">
                        <div class="flex items-center">
                            <span class="text-2xl mr-2">${layanan.emoji}</span>
                            <div>
                                <h4 class="font-bold">${layanan.nama}</h4>
                                <p class="text-blue-600 text-sm">${layanan.jabatan}</p>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <span class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">${layanan.kategori}</span>
                            <button onclick="deleteLayanan(${layanan.id})" class="bg-red-500 hover:bg-red-600 text-white px-2 py-1 rounded text-sm">
                                🗑️ Hapus
                            </button>
                        </div>
                    </div>
                    <div class="text-gray-600 text-sm space-y-1">
                        <p>📱 ${layanan.handphone}</p>
                        <p>📍 ${layanan.alamat}</p>
                        ${layanan.email ? `<p>📧 ${layanan.email}</p>` : ''}
                        ${additionalInfo}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function getFilteredLayanan() {
            const filter = document.getElementById('filter-layanan-kategori').value;
            return filter ? dataLayanan.filter(l => l.kategori === filter) : dataLayanan;
        }

        function filterLayananAdmin() {
            loadAdminLayanan();
        }

        function deleteLayanan(id) {
            if (confirm('Yakin ingin menghapus layanan ini?')) {
                dataLayanan = dataLayanan.filter(l => l.id !== id);
                localStorage.setItem('koni-layanan', JSON.stringify(dataLayanan));
                loadAdminLayanan();
                alert('✅ Layanan berhasil dihapus!');
            }
        }

        // Initialize
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('id-ID', {
            weekday: 'long',
            day: 'numeric',
            month: 'long',
            year: 'numeric'
        });

        // Load dashboard on page load
        loadDashboard();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98536828b33c40e0',t:'MTc1ODg5NjQ3OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
